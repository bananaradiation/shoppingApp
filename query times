experiments:
populating grid with 200 queries is faster than creating 20 temp tables for row and running 10 product queries on each table
(56ms vs 2570ms)

customer, no filter
Time for ROW query: 21
Time for COL query: 1
Time for GRID query: 1048

customer, state filter
Time for ROW query: 7
Time for COL query: 1363
Time for GRID query: 2561

customer, category filter
Time for ROW query: 518
Time for COL query: 249
Time for GRID query: 1636

customer, both filter
Time for ROW query: 270
Time for COL query: 138
Time for GRID query: 1270

state, no filter
Time for ROW query: 2
Time for COL query: 2
Time for GRID query: 1008

state, state filter
Time for ROW query: 14
Time for COL query: 1370
Time for GRID query: 1473

state, category filter
Time for ROW query: 26
Time for COL query: 358
Time for GRID query: 1314

state, both filter
Time for ROW query: 99
Time for COL query: 385
Time for GRID query: 600